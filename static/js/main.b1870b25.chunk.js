(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__F_prg",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2h856"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__146Ss",modal:"Modal_modal__3axjo"}},14:function(e,t,a){e.exports={spinnerWraper:"Loader_spinnerWraper__3ibwE"}},25:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__31WM6"}},26:function(e,t,a){e.exports={button:"Button_button__1W-iT"}},33:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2PSGq",searchForm:"Searchbar_searchForm__2L3-1",searchFormButton:"Searchbar_searchFormButton__KWI01","searchFormButton-label":"Searchbar_searchFormButton-label__1zEIp",searchFormInput:"Searchbar_searchFormInput__upzYf"}},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),s=(a(33),a(4)),i=a.n(s),u=a(15),l=a(9),m=a(6),b=a(5),h=a.n(b),p=a(1),j=function(e){var t=e.handleSubmit;return Object(p.jsx)("header",{className:h.a.searchbar,children:Object(p.jsxs)("form",{className:h.a.searchForm,onSubmit:t,children:[Object(p.jsx)("button",{type:"submit",className:h.a.searchFormButton,children:Object(p.jsx)("span",{className:h.a.searchFormButtonLabel})}),Object(p.jsx)("input",{className:h.a.searchFormInput,type:"text",name:"query",autoFocus:!0,placeholder:"Search images and photos"})]})})},g=a(12),f=a.n(g),d=function(e){var t=e.image,a=e.onClick;return Object(p.jsx)("li",{className:f.a.imageGalleryItem,children:Object(p.jsx)("img",{src:t.webformatURL,alt:t.tags,className:f.a.imageGalleryItemImage,onClick:a})})},O=a(25),x=a.n(O),_=function(e){var t=e.images,a=e.onSelectImg;return Object(p.jsx)("ul",{className:x.a.imageGallery,children:t.map((function(e){return Object(p.jsx)(d,{image:e,onClick:function(){return a(e.largeImageURL,e.tags)}},e.id)}))})},v=a(26),y=a.n(v),I=function(e){var t=e.onClick;return Object(p.jsx)("button",{type:"button",className:y.a.button,onClick:t,children:"Load more"})},w=a(13),S=a.n(w);function E(e){var t=e.onClose,a=e.image;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(p.jsx)("div",{className:S.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(p.jsx)("div",{className:S.a.modal,children:Object(p.jsx)("img",{src:a.src,alt:a.alt,width:"800",height:"600"})})})}var L=a(27),F=a.n(L),k=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:1,n="21757079-036beeeb18b1a04124bd9f213",e.next=4,F.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat(n,"&image_type=photo&orientation=horizontal&per_page=12"));case 4:return r=e.sent,e.abrupt("return",r.data.hits);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=a(28),G=a.n(N),C=a(14),D=a.n(C),R=function(){return Object(p.jsx)("div",{className:D.a.spinnerWraper,children:Object(p.jsx)(G.a,{className:D.a.spinner,type:"Oval",color:"#3f51b5",height:50,width:50})})},B=a(10);a(74);function q(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(m.a)(c,2),s=o[0],b=o[1],h=Object(n.useState)(""),g=Object(m.a)(h,2),f=g[0],d=g[1],O=Object(n.useState)(null),x=Object(m.a)(O,2),v=x[0],y=x[1],w=Object(n.useState)("IDLE"),S=Object(m.a)(w,2),L=S[0],F=S[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F("LOADING"),e.next=4,k(f,s);case 4:if((t=e.sent).length){e.next=7;break}throw new Error;case 7:r((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),F("RESOLVED"),s>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(0),B.b.error("wrong query",{position:"top-right"}),F("ERROR"),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}""!==f&&function(){e.apply(this,arguments)}()}),[f,s]);return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(j,{handleSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value.toLowerCase();if(!t.trim())return b(1),F("IDLE"),B.b.error("Enter query",{position:"top-right"});f!==t&&(d(t),F("LOADING"),b(1),r([]))}}),("IDLE"===L||"ERROR"===L)&&Object(p.jsx)(B.a,{position:"top-right"}),("LOADING"===L||"RESOLVED"===L)&&Object(p.jsx)(_,{images:a,onSelectImg:function(e,t){y({src:e,alt:t})}}),"LOADING"===L&&Object(p.jsx)(R,{}),"RESOLVED"===L&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(I,{onClick:function(){b((function(e){return e+1}))}}),v&&Object(p.jsx)(E,{image:v,onClose:function(){y(null)}})]})]})}var W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(q,{})}),document.getElementById("root")),W()}},[[75,1,2]]]);
//# sourceMappingURL=main.b1870b25.chunk.js.map